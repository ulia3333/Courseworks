--???????? ????????????? ? ???????? ?? ??????????? ????

create public synonym Item for SYSTEM.Item;
create public synonym UserInCaffe for SYSTEM.UserInCaffe;
create public synonym StatusInCaffe for SYSTEM.StatusInCaffe;
create public synonym ItemsInOrder for SYSTEM.ItemsInOrder;
create public synonym OrderInCaffe for SYSTEM.OrderInCaffe;

create public synonym GetOrderByPeriod for SYSTEM.GetOrderByPeriod;
create public synonym GetSumPrice for SYSTEM.GetSumPrice;
create public synonym CreateOrder for SYSTEM.CreateOrder;
create public synonym DeleteOrder for SYSTEM.DeleteOrder;
create public synonym DeleteItem for SYSTEM.DeleteItem; 
create public synonym UpdateItemName for SYSTEM.UpdateItemName;
create public synonym UpdateItemCost for SYSTEM.UpdateItemCost;
create public synonym ReadFileForImport for SYSTEM.ReadFileForImport;
create public synonym ImportXMLItems for SYSTEM.ImportXMLItems;
create public synonym export_items for SYSTEM.export_items;

--???????? ????????? ???????????
create tablespace CoffeTablespace
  datafile 'D:\6sem\????????\??\TABLESPACES\CoffeTablespace.dbf' 
  size 100M
  autoextend on next 10M
  MAXSIZE UNLIMITED;

create temporary tablespace TempCoffeTablespace
  tempfile 'D:\6sem\????????\??\TABLESPACES\TempCoffeTablespace.dbf' 
  size 100M
  autoextend on next 10M
  MAXSIZE UNLIMITED;

-- ???????? ???? ??????????????
create role coffe_admin_role;
grant all privileges to  coffe_admin_role;

-- ???????? ???????? ???????????? (?????????)
create user coffeadmin identified by 1
default tablespace CoffeTablespace
quota unlimited on CoffeTablespace
temporary tablespace TempCoffeTablespace;

create user coffeuser identified by 1
default tablespace CoffeTablespace
quota unlimited on CoffeTablespace
temporary tablespace TempCoffeTablespace;

grant coffe_user_role to coffeuser;

-- ?????? ???? ??????????????
grant coffe_admin_role to coffeadmin;

-- ???????? ???? ????????????
create role coffe_user_role;
grant connect to coffe_user_role;

-- ?????? ???? ?? ?????? ???????? ? ?????? ? ???????? ????????????
grant execute on CreateOrder to coffe_user_role;
grant execute on DeleteOrder to coffe_user_role;
grant execute on DeleteItem to coffe_user_role;
grant execute on UpdateItemName to coffe_user_role;
grant execute on UpdateItemCost to coffe_user_role;

grant select on Item to coffe_user_role;
grant select on ItemsInOrder to coffe_user_role;
grant select on OrderInCaffe to coffe_user_role;
